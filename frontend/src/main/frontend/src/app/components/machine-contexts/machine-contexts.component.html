<div class="wrapper">

  <div class="zordon">
    <div class="title">
      <div>
        <h1>Contexts</h1>
      </div>
    </div>
  </div>

  <div [ngStyle]="{'height.px': height }" class="rita">
    <table mat-table matSort [dataSource]="contextDataSource" class="table-container mat-elevation-z8">

      <!--Menu Column-->
      <ng-container matColumnDef="menu">
        <th mat-header-cell *matHeaderCellDef> Menu </th>
        <td mat-cell *matCellDef="let context">
          <div>
            <mat-menu #contextNavMenu="matMenu">
              <div>
                <button mat-menu-item (click)="deleteContext(context)">
                  <mat-icon>block</mat-icon>
                  <span>Delete Context</span>
                </button>
              </div>
            </mat-menu>

            <button mat-icon-button [matMenuTriggerFor]="contextNavMenu">
              <mat-icon>more_vert</mat-icon>
            </button>

          </div>
        </td>
      </ng-container>

      <!-- Id Column: -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
        <td mat-cell *matCellDef="let context"> {{context?.id}} </td>
      </ng-container>

      <!-- Item Count Column: -->
      <ng-container matColumnDef="itemCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Item Count </th>
        <td mat-cell *matCellDef="let context"> {{context?.itemCount}} </td>
      </ng-container>

      <!-- Balance Column: -->
      <ng-container matColumnDef="balance">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Balance </th>
        <td mat-cell *matCellDef="let context"> {{context?.balance}} </td>
      </ng-container>

      <!-- Income Column: -->
      <ng-container matColumnDef="income">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Income </th>
        <td mat-cell *matCellDef="let context"> {{context?.income}} </td>
      </ng-container>

      <!-- DateTime Column: -->
      <ng-container matColumnDef="dateTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
        <td mat-cell *matCellDef="let context"> {{context?.dateTime}} </td>
      </ng-container>

      <!-- State Column: -->
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> State </th>
        <td mat-cell *matCellDef="let context"> {{context?.state?.status}} </td>
      </ng-container>

      <!-- Row Template -->
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
      <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>

    </table>
  </div>
</div>

